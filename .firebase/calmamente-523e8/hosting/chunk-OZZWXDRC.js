import{a as U}from"./chunk-XH2HNU42.js";import{a as H}from"./chunk-5SWLIOPN.js";import"./chunk-UEVRKIQP.js";import{B as P,C as I,D as O,E as T,G as j,I as q,J as V,K as D,L as G,M as k,Q as L,R as B,S as R,T as $,ia as A,k as S,l as h,o as _,x as N}from"./chunk-R7H7OIXP.js";import{Ab as b,Hb as C,Jb as x,Mc as F,Nc as w,Qc as E,Ta as n,Tb as a,Ua as d,Ub as y,Y as f,fa as v,ga as p,mb as g,ob as l,ya as M,yb as m,zb as r}from"./chunk-LQB4XSM4.js";import{e as Q}from"./chunk-EQDQRRRY.js";var u=Q(U());function W(i,t){i&1&&(m(0,"mat-error"),a(1," El campo es requerido "),r())}function X(i,t){if(i&1&&(m(0,"div",6)(1,"mat-form-field",7)(2,"mat-label"),a(3),r(),b(4,"input",8),g(5,W,2,0,"mat-error",9),r()()),i&2){let c,e=t.$implicit,o=x();n(3),y(e),n(),l("formControlName",e),n(),l("ngIf",((c=o.formPreguntas.get(e))==null?null:c.invalid)&&((c=o.formPreguntas.get(e))==null?null:c.touched))}}var J=(()=>{let t=class t{constructor(e,o){this.fb=e,this.formularioService=o,this.isVisibleTestModel=new M,this.preguntas=[],this.preguntas=localStorage.getItem("columnas")?.split(",");let s=this.createFormControls();this.formPreguntas=this.fb.group(s)}enviar(){this.formPreguntas.valid&&this.formularioService.sendForm(this.formPreguntas.value).subscribe(e=>{console.log(e),e.mensaje?u.default.fire({title:e.mensaje,text:`Clasificaci\xF3n en el grupo: ${e.prediccion}`,icon:"success"}):u.default.fire({title:"Error",text:"Ha ocurrido un error en el servidor",icon:"error"})},e=>{u.default.fire({title:"Error",text:e.error,icon:"error"})})}createFormControls(){let e={};return this.preguntas.forEach(o=>{e[o]=["",I.required]}),e}};t.\u0275fac=function(o){return new(o||t)(d(D),d(H))},t.\u0275cmp=v({type:t,selectors:[["app-test-model"]],outputs:{isVisibleTestModel:"isVisibleTestModel"},decls:12,vars:3,consts:[[1,"container","mt-5","mb-5"],["mat-flat-button","","routerLink","/adminModels","type","button",1,"fs-4","p-4","mb-5"],[3,"ngSubmit","formGroup"],[1,"questions-container"],["class","question-item",4,"ngFor","ngForOf"],["mat-flat-button","","type","submit",1,"fs-4","p-4",3,"disabled"],[1,"question-item"],[1,"full-width","mb-3"],["matInput","","type","text",3,"formControlName"],[4,"ngIf"]],template:function(o,s){o&1&&(m(0,"div",0)(1,"button",1)(2,"mat-icon"),a(3,"arrow_back"),r(),a(4," Volver "),r(),m(5,"form",2),C("ngSubmit",function(){return s.enviar()}),m(6,"div",3),g(7,X,6,3,"div",4),r(),m(8,"button",5)(9,"mat-icon"),a(10,"send"),r(),a(11," Enviar "),r()()()),o&2&&(n(5),l("formGroup",s.formPreguntas),n(2),l("ngForOf",s.preguntas),n(),l("disabled",!s.formPreguntas.valid))},dependencies:[F,w,S,N,_,$,R,L,B,j,P,O,T,q,V],styles:[".container[_ngcontent-%COMP%]{min-height:85vh;display:flex;flex-direction:column;padding:1rem;width:100%}.questions-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;width:100%}.question-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 1rem);min-width:calc(50% - 1rem)}mat-form-field.full-width[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{max-width:8rem}"]});let i=t;return i})();var Y=[{path:"",component:J}],K=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=p({type:t}),t.\u0275inj=f({imports:[h.forChild(Y),h]});let i=t;return i})();var yt=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=p({type:t}),t.\u0275inj=f({imports:[E,K,A,G,k]});let i=t;return i})();export{yt as TestModelModule};
